{"version":3,"sources":["core/src/model/dynamic-option-control.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,uFAAoH;AACpH,8EAA4E;AAC5E,kCAAkC;AASlC;IAMI,2BAAY,MAAkC;QAE1C,IAAI,CAAC,QAAQ,GAAG,gBAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,KAAK,GAAG,gBAAQ,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;IAC9B,CAAC;IAED,sBAAI,mCAAI;aAAR;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAS,IAAY;YACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QACtB,CAAC;;;OAJA;IAMD,kCAAM,GAAN;QACI,MAAM,CAAC,kCAAS,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IACL,wBAAC;AAAD,CAxBA,AAwBC,IAAA;AAtBmB;IAAf,qCAAY,EAAE;;mDAAmB;AAClB;IAAf,qCAAY,EAAE;;gDAAsB;AACrB;IAAf,qCAAY,EAAE;;gDAAU;AAJhB,8CAAiB;AA+B9B;IAA2D,6CAA0C;IAIjG,mCAAY,MAA0C,EAAE,GAAe;QAAvE,YAEI,kBAAM,MAAM,EAAE,GAAG,CAAC,SAGrB;QADG,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,YAAY,IAAI,OAAA,IAAI,iBAAiB,CAAI,YAAY,CAAC,EAAtC,CAAsC,CAAC,GAAG,EAAE,CAAC;;IACpH,CAAC;IAED,uCAAG,GAAH,UAAI,YAAwC;QACxC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IAC1D,CAAC;IAED,uCAAG,GAAH,UAAI,KAAa;QACb,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,0CAAM,GAAN,UAAO,KAAa,EAAE,YAAwC;QAE1D,IAAI,MAAM,GAAG,IAAI,iBAAiB,CAAC,YAAY,CAAC,CAAC;QAEjD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;QAEtC,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,0CAAM,GAAN;QAAA,iBAEC;QAFM,iBAAyB;aAAzB,UAAyB,EAAzB,qBAAyB,EAAzB,IAAyB;YAAzB,4BAAyB;;QAC5B,OAAO,CAAC,OAAO,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,EAA7B,CAA6B,CAAC,CAAC;IAC5D,CAAC;IAGL,gCAAC;AAAD,CAjCA,AAiCC,CAjC0D,+DAA4B,GAiCtF;AA/BmB;IAAf,qCAAY,EAAE;8BAAU,KAAK;0DAAuB;AAFnC,8DAAyB","file":"dynamic-option-control.model.js","sourcesContent":["import {ClsConfig} from \"./dynamic-form-control.model\";\nimport {DynamicFormValueControlModel, DynamicFormValueControlModelConfig} from \"./dynamic-form-value-control.model\";\nimport {serializable, serialize} from \"../decorator/serializable.decorator\";\nimport {getValue} from \"../utils\";\n\nexport interface DynamicFormOptionConfig<T> {\n\n    disabled?: boolean;\n    label?: string;\n    value: T;\n}\n\nexport class DynamicFormOption<T> {\n\n    @serializable() disabled: boolean;\n    @serializable() label: string | null;\n    @serializable() value: T;\n\n    constructor(config: DynamicFormOptionConfig<T>) {\n\n        this.disabled = getValue(config, \"disabled\", false);\n        this.label = getValue(config, \"label\", null);\n        this.value = config.value;\n    }\n\n    get text() {\n        return this.label;\n    }\n\n    set text(text: string) {\n        this.label = text;\n    }\n\n    toJSON() {\n        return serialize(this);\n    }\n}\n\nexport interface DynamicOptionControlModelConfig<T> extends DynamicFormValueControlModelConfig<T | Array<T>> {\n\n    options?: Array<DynamicFormOptionConfig<T>>;\n}\n\nexport abstract class DynamicOptionControlModel<T> extends DynamicFormValueControlModel<T | Array<T>> {\n\n    @serializable() options: Array<DynamicFormOption<T>>;\n\n    constructor(config: DynamicOptionControlModelConfig<T>, cls?: ClsConfig) {\n\n        super(config, cls);\n\n        this.options = config.options ? config.options.map(optionConfig => new DynamicFormOption<T>(optionConfig)) : [];\n    }\n\n    add(optionConfig: DynamicFormOptionConfig<T>): DynamicFormOption<T> {\n        return this.insert(this.options.length, optionConfig);\n    }\n\n    get(index: number): DynamicFormOption<T> {\n        return this.options[index];\n    }\n\n    insert(index: number, optionConfig: DynamicFormOptionConfig<T>): DynamicFormOption<T> {\n\n        let option = new DynamicFormOption(optionConfig);\n\n        this.options.splice(index, 0, option);\n\n        return option;\n    }\n\n    remove(...indices: Array<number>): void {\n        indices.forEach(index => this.options.splice(index, 1));\n    }\n\n    abstract select(...indices: Array<number>): void;\n}"]}